<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Payment System Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        @page {
            size: A3;
            margin: 0;
            size: landscape;
            /* margin: 1cm; */
        }
        @media print {
            body {
                width: 100%;
                margin: 0;
                padding: 0; 
                background-color: #fff;
                /* box-sizing: border-box; */
            }
            .print-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
            .print-full-width {
                grid-column: 1 / -1;
            }
            .page-break {
                page-break-before: always;
            }
            .page-break-inside-avoid {
                page-break-inside: avoid;
            }
            /* .bg-white, .bg-gray-100 {
                background-color: #fff !important;
            }
            .shadow {
                box-shadow: none !important;
            }
            .rounded-lg {
                border-radius: 0 !important;
            }
            .print-border {
                border: 1px solid #e2e8f0;
            } */
            .apexcharts-canvas {
                width: 100% !important;
                height: auto !important;
            }
            #transactionVolumeChart,
            #revenueTrendChart,
            #dailyTransactionChart,
            #hybridChart {
                width: 100% !important;
                min-height: 350px !important;
            }
            .apexcharts-inner {
                width: 100% !important;
                /* transform: none !important; */
            }
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="p-4 ">
        <!-- Header -->
        <header class="bg-white shadow rounded-lg p-4 mb-4 flex items-center justify-between page-break-inside-avoid print-full-width print-border">
            <div>
                <img src="https://app.gensolv.no/public/images/parksync.png" alt="Company Logo" class="h-16 mb-4">
                <h1 class="text-3xl font-bold text-gray-800">Payment System Report</h1>
                <p class="text-gray-600" id="report-date"></p>

                <p class="text-gray-600 mb-4">
                    Period: <span class="font-semibold">{{period_from}}</span> - <span class="font-semibold">{{period_to}}</span>
                </p>
            </div>
            <div class="text-right">
                <p class="text-sm text-gray-600">Generated by: <span class="font-semibold">{{user_name}}</span></p>
                <p class="text-sm text-gray-600">Department: <span class="font-semibold">Finance - Admin</span></p>
                <p class="text-sm text-gray-600">Report name: <span class="font-semibold">{{report_name}}</span></p>
            </div>
        </header>

        <div class="print-grid">
            <!-- Summary -->
            <section class="bg-white shadow rounded-lg p-4 mb-4 page-break-inside-avoid print-full-width print-border">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Executive Summary</h2>
                <p class="text-gray-600 mb-4">
                    This advanced report provides a comprehensive overview of our payment system's performance, highlighting key metrics, trends, and areas for improvement. The data presented covers the period from January 1, 2023 to June 30, 2023.
                </p>
                <p class="text-gray-600">
                    Our payment system has demonstrated robust growth and significant improvements over the past six months. Transaction volume has surged by 18%, while revenue has experienced a substantial increase of 22%. The system's reliability remains exceptional, with a consistent success rate of 99.9%, underscoring our commitment to providing a seamless payment experience.
                </p>
            </section>

            <!-- Key Metrics -->
            <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4 page-break-inside-avoid print-full-width">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 shadow rounded-lg p-4 text-white print-border">
                    <h3 class="text-lg font-semibold mb-2">Total Transactions</h3>
                    <p class="text-4xl font-bold mb-2">1,234,567</p>
                    <p class="text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd"/>
                        </svg>
                        18% from last period
                    </p>
                </div>
                <div class="bg-gradient-to-br from-green-500 to-green-600 shadow rounded-lg p-4 text-white print-border">
                    <h3 class="text-lg font-semibold mb-2">Total Revenue</h3>
                    <p class="text-4xl font-bold mb-2">$78,901,234</p>
                    <p class="text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd"/>
                        </svg>
                        22% from last period
                    </p>
                </div>
                <div class="bg-gradient-to-br from-purple-500 to-purple-600 shadow rounded-lg p-4 text-white print-border">
                    <h3 class="text-lg font-semibold mb-2">Average Transaction Value</h3>
                    <p class="text-4xl font-bold mb-2">$63.91</p>
                    <p class="text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd"/>
                        </svg>
                        3.4% from last period
                    </p>
                </div>
                <div class="bg-gradient-to-br from-yellow-500 to-yellow-600 shadow rounded-lg p-4 text-white print-border">
                    <h3 class="text-lg font-semibold mb-2">Success Rate</h3>
                    <p class="text-4xl font-bold mb-2">99.9%</p>
                    <p class="text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd"/>
                        </svg>
                        0.2% from last period
                    </p>
                </div>
            </section>

            <!-- Charts Grid -->
            <div class="bg-white shadow rounded-lg p-4 page-break-inside-avoid print-border">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Transaction Volume</h2>
                <div id="transactionVolumeChart"></div>
            </div>

            <div class="bg-white shadow rounded-lg p-4 page-break-inside-avoid print-border">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Revenue Trend</h2>
                <div id="revenueTrendChart"></div>
            </div>

            <div class="bg-white shadow rounded-lg p-4 page-break-inside-avoid print-border">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Daily Transaction Volume</h2>
                <div id="dailyTransactionChart"></div>
            </div>
            
            <div class="bg-white shadow rounded-lg p-4 page-break-inside-avoid print-border">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Payment System Performance</h2>
                <div id="hybridChart"></div>
            </div>

            <!-- Key Insights -->
            <section class="bg-white shadow rounded-lg p-4 mb-4 page-break-inside-avoid print-full-width print-border">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Key Insights</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 rounded-lg p-4 print-border">
                        <h3 class="text-lg font-semibold text-blue-800 mb-2">Exponential Growth</h3>
                        <p class="text-blue-600">Our transaction volume has experienced an impressive 18% increase, showcasing the rapidly growing adoption of our payment system.</p>
                    </div>
                    <div class="bg-green-50 rounded-lg p-4 print-border">
                        <h3 class="text-lg font-semibold text-green-800 mb-2">Revenue Surge</h3>
                        <p class="text-green-600">Total revenue has skyrocketed by 22%, outpacing transaction growth and indicating higher-value transactions.</p>
                    </div>
                    <div class="bg-purple-50 rounded-lg p-4 print-border">
                        <h3 class="text-lg font-semibold text-purple-800 mb-2">Unparalleled Reliability</h3>
                        <p class="text-purple-600">Our system maintains an exceptional 99.9% success rate, ensuring a seamless experience for users and minimizing transaction failures.</p>
                    </div>
                    <div class="bg-yellow-50 rounded-lg p-4 print-border">
                        <h3 class="text-lg font-semibold text-yellow-800 mb-2">Emerging Trends</h3>
                        <p class="text-yellow-600">Digital wallet usage continues to surge, with a 30% increase in transaction volume, signaling a strong shift towards mobile and contactless payments.</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm mt-8 print-full-width">
            <p>&copy; 2025 Parksync Solutions. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Set the current date in the header
        const now = new Date();
        const options = {
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit',
            hour12: false
        };
        document.getElementById('report-date').textContent = now.toLocaleString('en-US', options);

        // Transaction Volume Chart
        var transactionVolumeOptions = {
            series: [{
                name: 'Transaction Volume',
                data: [31000, 40000, 28000, 51000, 42000, 109000, 100000]
            }],
            chart: {
                height: 350,
                type: 'area',
                width: '100%',
                animations: {
                    enabled: false
                }
            },
            dataLabels: {
                enabled: false
            },
            stroke: {
                curve: 'smooth'
            },
            xaxis: {
                type: 'datetime',
                categories: ["2023-01-01", "2023-02-01", "2023-03-01", "2023-04-01", "2023-05-01", "2023-06-01", "2023-07-01"]
            },
            tooltip: {
                x: {
                    format: 'dd/MM/yy'
                },
            },
            responsive: [{
                breakpoint: 5000,
                options: {
                    chart: {
                        width: '100%'
                    }
                }
            }]
        };

        var transactionVolumeChart = new ApexCharts(document.querySelector("#transactionVolumeChart"), transactionVolumeOptions);
        transactionVolumeChart.render();

        // Revenue Trend Chart
        var revenueTrendOptions = {
            series: [{
                name: 'Revenue',
                data: [2100000, 3200000, 3800000, 4100000, 4800000, 5200000]
            }],
            chart: {
                height: 350,
                type: 'line',
                width: '100%',
                animations: {
                    enabled: false
                }
            },
            stroke: {
                width: 7,
                curve: 'smooth'
            },
            xaxis: {
                type: 'datetime',
                categories: ['1/1/2023', '2/1/2023', '3/1/2023', '4/1/2023', '5/1/2023', '6/1/2023'],
            },
            title: {
                text: 'Revenue Trends',
                align: 'left',
                style: {
                    fontSize: "16px",
                    color: '#666'
                }
            },
            fill: {
                type: 'gradient',
                gradient: {
                    shade: 'dark',
                    gradientToColors: ['#FDD835'],
                    shadeIntensity: 1,
                    type: 'horizontal',
                    opacityFrom: 1,
                    opacityTo: 1,
                    stops: [0, 100, 100, 100]
                },
            },
            markers: {
                size: 4,
                colors: ["#FFA41B"],
                strokeColors: "#fff",
                strokeWidth: 2,
                hover: {
                    size: 7,
                }
            },
            yaxis: {
                min: 0,
                max: 6000000,
                title: {
                    text: 'Revenue',
                },
            },
            responsive: [{
                breakpoint: 5000,
                options: {
                    chart: {
                        width: '100%'
                    }
                }
            }]
        };

        var revenueTrendChart = new ApexCharts(document.querySelector("#revenueTrendChart"), revenueTrendOptions);
        revenueTrendChart.render();

        // Daily Transaction Volume Chart
        var dailyTransactionOptions = {
            series: [{
                name: 'Transactions',
                data: [30, 40, 35, 50, 49, 60, 70, 91, 125]
            }],
            chart: {
                height: 350,
                type: 'bar',
                width: '100%',
                animations: {
                    enabled: false
                }
            },
            plotOptions: {
                bar: {
                    borderRadius: 10,
                    dataLabels: {
                        position: 'top',
                    },
                }
            },
            dataLabels: {
                enabled: true,
                formatter: function (val) {
                    return val + "K";
                },
                offsetY: -20,
                style: {
                    fontSize: '12px',
                    colors: ["#304758"]
                }
            },
            xaxis: {
                categories: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep"],
                position: 'top',
                axisBorder: {
                    show: false
                },
                axisTicks: {
                    show: false
                },
                crosshairs: {
                    fill: {
                        type: 'gradient',
                        gradient: {
                            colorFrom: '#D8E3F0',
                            colorTo: '#BED1E6',
                            stops: [0, 100],
                            opacityFrom: 0.4,
                            opacityTo: 0.5,
                        }
                    }
                },
                tooltip: {
                    enabled: true,
                }
            },
            yaxis: {
                axisBorder: {
                    show: false
                },
                axisTicks: {
                    show: false,
                },
                labels: {
                    show: false,
                    formatter: function (val) {
                        return val + "K";
                    }
                }
            },
            title: {
                text: 'Daily Transactions (Thousands)',
                floating: true,
                offsetY: 330,
                align: 'center',
                style: {
                    color: '#444'
                }
            },
            responsive: [{
                breakpoint: 5000,
                options: {
                    chart: {
                        width: '100%'
                    }
                }
            }]
        };

        var dailyTransactionChart = new ApexCharts(document.querySelector("#dailyTransactionChart"), dailyTransactionOptions);
        dailyTransactionChart.render();

        // New Hybrid Chart
        var hybridChartOptions = {
            series: [{
                name: 'Revenue',
                type: 'column',
                data: [1.4, 2, 2.5, 1.5, 2.5, 2.8, 3.8, 4.6]
            }, {
                name: 'Transaction Volume',
                type: 'line',
                data: [20, 29, 37, 36, 44, 45, 50, 58]
            }, {
                name: 'Success Rate',
                type: 'area',
                data: [99.1, 99.3, 99.4, 99.5, 99.6, 99.7, 99.8, 99.9]
            }],
            chart: {
                height: 350,
                type: 'line',
                stacked: false,
                width: '100%',
                animations: {
                    enabled: false
                }
            },
            dataLabels: {
                enabled: false
            },
            stroke: {
                width: [1, 4, 4]
            },
            title: {
                text: 'Payment System Performance (2023)',
                align: 'left',
                offsetX: 110
            },
            xaxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug'],
            },
            yaxis: [
                {
                    axisTicks: {
                        show: true,
                    },
                    axisBorder: {
                        show: true,
                        color: '#008FFB'
                    },
                    labels: {
                        style: {
                            colors: '#008FFB',
                        }
                    },
                    title: {
                        text: "Revenue (Millions $)",
                        style: {
                            color: '#008FFB',
                        }
                    },
                    tooltip: {
                        enabled: true
                    }
                },
                {
                    seriesName: 'Transaction Volume',
                    opposite: true,
                    axisTicks: {
                        show: true,
                    },
                    axisBorder: {
                        show: true,
                        color: '#00E396'
                    },
                    labels: {
                        style: {
                            colors: '#00E396',
                        }
                    },
                    title: {
                        text: "Transaction Volume (Millions)",
                        style: {
                            color: '#00E396',
                        }
                    },
                },
                {
                    seriesName: 'Success Rate',
                    opposite: true,
                    axisTicks: {
                        show: true,
                    },
                    axisBorder: {
                        show: true,
                        color: '#FEB019'
                    },
                    labels: {
                        style: {
                            colors: '#FEB019',
                        },
                    },
                    title: {
                        text: "Success Rate (%)",
                        style: {
                            color: '#FEB019',
                        }
                    }
                },
            ],
            tooltip: {
                fixed: {
                    enabled: true,
                    position: 'topLeft',
                    offsetY: 30,
                    offsetX: 60
                },
            },
            legend: {
                horizontalAlign: 'left',
                offsetX: 40
            },
            responsive: [{
                breakpoint: 5000,
                options: {
                    chart: {
                        width: '100%'
                    }
                }
            }]
        };

        var hybridChart = new ApexCharts(document.querySelector("#hybridChart"), hybridChartOptions);
        hybridChart.render();
    </script>
</body>
</html>

